<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ESlint - Prettier - Lint-Staged-Husky  적용기 | Dali&#39;s devLog</title>
    <meta name="description" content="TIL">
    
    
    <link rel="preload" href="/learning-note/assets/css/0.styles.4fc89262.css" as="style"><link rel="preload" href="/learning-note/assets/js/app.80c35667.js" as="script"><link rel="preload" href="/learning-note/assets/js/2.90274bcd.js" as="script"><link rel="preload" href="/learning-note/assets/js/3.bed7b99c.js" as="script"><link rel="prefetch" href="/learning-note/assets/js/10.6076d589.js"><link rel="prefetch" href="/learning-note/assets/js/11.44773784.js"><link rel="prefetch" href="/learning-note/assets/js/12.84b5e907.js"><link rel="prefetch" href="/learning-note/assets/js/13.351dc790.js"><link rel="prefetch" href="/learning-note/assets/js/14.8cd09e9b.js"><link rel="prefetch" href="/learning-note/assets/js/15.1a30e0c7.js"><link rel="prefetch" href="/learning-note/assets/js/16.d2a86fa0.js"><link rel="prefetch" href="/learning-note/assets/js/17.7afeceb3.js"><link rel="prefetch" href="/learning-note/assets/js/18.a8c13e93.js"><link rel="prefetch" href="/learning-note/assets/js/19.e87bc44c.js"><link rel="prefetch" href="/learning-note/assets/js/20.db183e7e.js"><link rel="prefetch" href="/learning-note/assets/js/21.fd8e72bc.js"><link rel="prefetch" href="/learning-note/assets/js/22.912b052c.js"><link rel="prefetch" href="/learning-note/assets/js/23.db2264de.js"><link rel="prefetch" href="/learning-note/assets/js/24.6db1c5d0.js"><link rel="prefetch" href="/learning-note/assets/js/25.ddd88253.js"><link rel="prefetch" href="/learning-note/assets/js/26.54db0373.js"><link rel="prefetch" href="/learning-note/assets/js/27.ba0801ee.js"><link rel="prefetch" href="/learning-note/assets/js/28.ad4f06dd.js"><link rel="prefetch" href="/learning-note/assets/js/29.2b5db989.js"><link rel="prefetch" href="/learning-note/assets/js/4.e5a590ac.js"><link rel="prefetch" href="/learning-note/assets/js/5.1b350fe4.js"><link rel="prefetch" href="/learning-note/assets/js/6.38e8c98e.js"><link rel="prefetch" href="/learning-note/assets/js/7.7339feaf.js"><link rel="prefetch" href="/learning-note/assets/js/8.fc336295.js"><link rel="prefetch" href="/learning-note/assets/js/9.4420ec65.js">
    <link rel="stylesheet" href="/learning-note/assets/css/0.styles.4fc89262.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/learning-note/" class="home-link router-link-active"><!----> <span class="site-name">Dali's devLog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Base</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>FE</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/learning-note/elint-prettier-lint-staged.html" class="active sidebar-link">ESlint - Prettier - Lint-Staged-Husky  적용기</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ETC</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Dali</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="eslint-prettier-lint-staged-husky-적용기"><a href="#eslint-prettier-lint-staged-husky-적용기" aria-hidden="true" class="header-anchor">#</a> ESlint - Prettier - Lint-Staged-Husky  적용기</h3> <h3 id="intro"><a href="#intro" aria-hidden="true" class="header-anchor">#</a> Intro</h3> <p>안녕하세요 달리입니다.<br>
오늘은 프론트엔드 개발환경 셋팅 하면서 빼놓을 수 없는 Lint를 적용할 때  <br>
같이 Set로 많이 적용하는 툴4가지를 소개하고 적용해본 경험을 글로 정리해보려 합니다. 😃</p> <h3 id="목차"><a href="#목차" aria-hidden="true" class="header-anchor">#</a> 목차</h3> <ul><li><a href="#_1-why">1. Why</a></li> <li><a href="#_2-%EA%B0%81%EA%B0%81%EC%9D%98-%ED%88%B4-%EC%86%8C%EA%B0%9C-%EB%B0%8F-%EC%84%A4%EC%B9%98-%EB%B0%8F-%EC%A0%81%EC%9A%A9-eslint-prettier-lint-staged-husky">2. 각각의 툴 소개 및 설치 및 적용</a></li> <li><ul><li><a href="#_2-%EA%B0%81%EA%B0%81%EC%9D%98-%ED%88%B4-%EC%86%8C%EA%B0%9C-%EB%B0%8F-%EC%84%A4%EC%B9%98-%EB%B0%8F-%EC%A0%81%EC%9A%A9-eslint-prettier-lint-staged-husky">2.1  ESLint 소개 및 적용</a></li></ul></li> <li><ul><li><a href="#_2-2-prettier-%EC%86%8C%EA%B0%9C-%EB%B0%8F-%EC%A0%81%EC%9A%A9">2.2 Prettier 소개 및 적용</a></li></ul></li> <li><ul><li><a href="#_2-3lint-staged-husky-%EC%86%8C%EA%B0%9C-%EB%B0%8F-%EC%A0%81%EC%9A%A9">2.3 lint-staged, husky 소개 및 적용</a></li></ul></li> <li><a href="#%ED%9B%84%EA%B8%B0-%EB%B0%8F-%EC%B0%B8%EA%B3%A0%EB%AC%B8%EC%84%9C">3.후기 및 참고문서</a></li></ul> <h3 id="_1-why"><a href="#_1-why" aria-hidden="true" class="header-anchor">#</a> 1.Why?</h3> <p>이 도구 적용을 알아보게 된 계기</p> <ol><li>약속한 공통된 스타일로 맞춰주는 부분에 드는 개발자에 비용을 현격하게 낮춰줄 수 있습니다.</li> <li>추가적으로 코드리뷰시  코드 스타일에 대해서 논하는 비용을 줄이고 로직에만 더 집중할 수 있게 됩니다!</li></ol> <ul><li>ESLint: 문법적인 오류나 더 깔끔한 코드를 위한 가이드를 제공해주는 도구 입니다.</li> <li>Prettier:  정해진 규칙에 따라 코드를 정리해주는 도구 입니다.</li> <li>Lint-Staged &amp; husky: git hook 을 이용해서 staged에 있는 파일에 lint, format을 적용할 수 있게 도와주는 도구 입니다.</li></ul> <p>그러면 본격적으로 각각의 툴 설치와 적용에 대해서 알아보도록 하겠습니다.</p> <h3 id="_2-각각의-툴-소개-및-설치-및-적용-eslint-prettier-lint-staged-husky"><a href="#_2-각각의-툴-소개-및-설치-및-적용-eslint-prettier-lint-staged-husky" aria-hidden="true" class="header-anchor">#</a> 2.각각의 툴 소개 및 설치 및 적용(eslint, prettier, lint-staged, husky)</h3> <h4 id="_2-1-eslint-소개-및-적용"><a href="#_2-1-eslint-소개-및-적용" aria-hidden="true" class="header-anchor">#</a> 2.1  ESLint 소개 및 적용</h4> <img src="https://66.media.tumblr.com/276918e85f312faf4ee1674cad658c38/68601f3f5c45989f-04/s1280x1920/e0095009f60459d2b3adc1964e6fb94075ee18a4.png" width="600"> <p>ESLint 는 Nicholas C. Zakas 가 13년에 만든 JS Lint Library 입니다. <br></p> <p>JS syntax error 및  코드를  더 깔끔하게 작성하기 위한 guide를 제공해줍니다. <br></p> <p><a href="https://eslint.org/" target="_blank" rel="noopener noreferrer">ESLint<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 설치 및 적용</p> <h4 id="_2-1-1-install-config"><a href="#_2-1-1-install-config" aria-hidden="true" class="header-anchor">#</a> 2.1.1 Install &amp; config</h4> <blockquote><p>npm 설치</p></blockquote> <p><code>npm install eslint --save-dev</code></p> <blockquote><p>세부 설정 config 알아보기</p></blockquote> <p>설치후 세부 설정은 <code>.eslintrc.*</code> file 을 이용하거나 <br> <code>package.json</code>에 <code>eslintConfig</code>  field 안에서 설정을 할 수 있습니다.</p> <p>대표적인 설정 옵션에대해서 간단히 알아보겠습니다</p> <ul><li><p>parserOptions: 어떤 ecma version으로 parsing 할 것인지 setting 합니다.</p></li> <li><p>environment:  사용 중인 미리 정의 된 global 변수를 정의합니다. ex) <code>browser, node</code></p></li> <li><p>globals: custom한 global 변수를 직접 정의합니다.</p></li> <li><p>plugins: 기본적으로 eslint-rule의  set입니다 ex)  <strong>[<code>eslint-plugin-react](https://github.com/yannickcr/eslint-plugin-react), plugin:vue/essential</code></strong></p></li> <li><p>rules: lint rule입니다. 각 rule은 off, warn, error 3가지 상태로 정의해서 쓸 수 있습니다.</p></li> <li><p>extends: 설정파일 set입니다. 자주사용하는 설정 set를 가지고 올 수 있습니다. 대표적으로</p> <p><code>airbnb, google standard</code> <strong>등이 있습니다.</strong></p></li></ul> <p>팀에서 자주 쓰이는 airbnb, google style guide 등을 읽어보고
extends해서 사용하는 방식도<br> 빠르게 설정하기 용이한 방법 같습니다.</p> <ul><li><a href="https://github.com/airbnb/javascript" target="_blank" rel="noopener noreferrer">airbnb/javascript<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://google.github.io/styleguide/jsguide.html" target="_blank" rel="noopener noreferrer">Google JavaScript Style Guide<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>자 저는 vue-cli 를 통해서 이 lint 도구들을 적용해보도록 하겠습니다 😃</p> <p>*오늘 setup한 코드는 여기서 보실 수 있습니다  아래 링크 클릭 <br> <a href="https://github.com/amorfati0310/vue-lint-practice" target="_blank" rel="noopener noreferrer">lint-setup-practice<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language- extra-class"><pre class="language-text"><code>vue create vue-lint-practice 
</code></pre></div><p>로 project를 default로 생성합니다.</p> <p>그러면 eslint 설정이 package.json에 이렇게 잡혀 있는 것을 보실 수 있을 거에요</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// packae.json</span>
<span class="token operator">...</span>
<span class="token string">&quot;eslintConfig&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;root&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string">&quot;env&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;node&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;extends&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;plugin:vue/essential&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;eslint:recommended&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;rules&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;parserOptions&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;parser&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;babel-eslint&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token operator">...</span>
</code></pre></div><p>console을 찍었을 때 기본 지금 extends 된 no-console에서는 error를 내게 하고 있다고 알려주고 있네요 😃
<img src="/learning-note/assets/img/lint-console.4d370758.png" alt="console.png"></p> <p>자 그러면 이제 2번째 도구 Prettier를 eslint와 같이 적용해보겠습니다.</p> <h3 id="_2-2-prettier-소개-및-적용"><a href="#_2-2-prettier-소개-및-적용" aria-hidden="true" class="header-anchor">#</a> 2.2 Prettier 소개 및 적용</h3> <h4 id="소개"><a href="#소개" aria-hidden="true" class="header-anchor">#</a> 소개</h4> <p>프리티어는 코드 정리 도구입니다.</p> <p>이 라이브러리가 낯설으신 분은 공식문서에서 왜 등장했는지 한 번 읽어 보시면 좋을 것 같습니다</p> <ul><li><a href="https://prettier.io/" target="_blank" rel="noopener noreferrer">Prettier 공식 페이지<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <ol><li>가장 큰 이유는 코드를 정리해줌으로서 코드 리뷰 때 semi clone , single quote, line break 등으로 포맷팅 스타일에 관해서  논하는 비용을 줄일 수 있습니다.</li> <li>단순하게 rule을 적용하는 부분을 단축키 한 번 명령어 한 번 혹은 저장으로 처리하여 생산성 + 코드 가독성을 빠르게 높일 수 있습니다.</li></ol> <p>Prettier 공식 사이트에서 몇가지 option들을 눌러보면서 적용하면서 왼쪽, 오른쪽을 비교해보면 어떤 라이브러리인지 이해하기 좋을 것입니다.</p> <p><a href="https://prettier.io/playground/" target="_blank" rel="noopener noreferrer">Prettier Play Ground<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>자 이제 prettier와 eslint를 같이 적용을 해보겠습니다.</p> <h3 id="설치"><a href="#설치" aria-hidden="true" class="header-anchor">#</a> 설치</h3> <p><code>npm install --save-dev --save-exact prettier</code></p> <h3 id="eslint-prettier-적용"><a href="#eslint-prettier-적용" aria-hidden="true" class="header-anchor">#</a> ESLint-Prettier 적용</h3> <p>먼저 npm 설치를 해준 다음에 2가지 방식 중에 하나를 택해줍니다.</p> <ol><li>eslint에서 prettier 규칙은 비활성화 시키는 방식</li> <li>prettier에서 eslint설정을 연동시키는 방식</li></ol> <p>기존에 eslint가 설정되어 있고, 대중적으로 더 많이 쓰이는 방식인 1번 방식을 통해 적용해보겠습니다.</p> <p><code>eslint-config-prettier</code> 도구를 통해서 prettier와 겹치는 rule은 무시시켜줍니다.</p> <p>예를 들면 semi, tab 같은 부분이 있습니다.</p> <p><code>npm install --save-dev eslint-config-prettier</code></p> <p>.eslintrc extends 설정에 prettier를 추가해줍니다.</p> <pre><code>extends:[
        ...,
        &quot;prettier&quot;,
    ],
</code></pre> <p>이제 룰 중에 eslint와 겹치는 룰은 prettier에서 적용할 것이기 때문에 충돌 없이 쓸 수 있습니다
그런데 혹시 custom rules가 있어서 덮어 쓰는 경우, 또  겹치는 부분이 없는지 한 번 체크를 해줍니다</p> <pre><code>&quot;scripts&quot;: {
    ....
    &quot;lint:check&quot;: &quot;eslint --print-config {fileName} | eslint-config-prettier-check&quot;,
   
  },
// packae.json 
</code></pre> <p>그리고 에러가 나는 부분이 있으면 그 rule은 제거 하고 <code>prettier</code>에게 위임해줍시다 😃</p> <p>Prettier Option들을 살펴보며 적용하고 싶은 rule데로 적용해줍시다 <br>
그리고 script에 format이라는 모든 js, vue 파일은 한 번 포맷팅 해주는 명령어도 넣어주었습니다 .</p> <blockquote><p>.prettierrc 설정 및 format script 추가</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token punctuation">{</span>
      <span class="token string">&quot;singleQuote&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string">&quot;semi&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string">&quot;useTabs&quot;</span><span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token string">&quot;tabWidth&quot;</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string">&quot;trailingComma&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;all&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;printWidth&quot;</span><span class="token punctuation">:</span> <span class="token number">120</span><span class="token punctuation">,</span>
      <span class="token string">&quot;arrowParens&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;avoid&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;bracketSpacing&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string">&quot;proseWrap&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;preserve&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;requirePragma&quot;</span><span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token string">&quot;overrides&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token string">&quot;files&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;*.vue&quot;</span><span class="token punctuation">,</span>
          <span class="token string">&quot;options&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">&quot;parser&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;vue&quot;</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>prettierc 

    <span class="token string">&quot;scripts&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;format&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;prettier --write 'src/**/*.{js,vue}'&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    pakage<span class="token punctuation">.</span>jsson 
</code></pre></div><h3 id="만능은-아닌-prettier"><a href="#만능은-아닌-prettier" aria-hidden="true" class="header-anchor">#</a> 만능은 아닌 Prettier</h3> <p>내가 원하는데로 만능 포맷터는 아닙니다. ex) multiline obj 같은 부분을 적절히 인식 못합니다.
그래도 너무 만족스럽게 코드를 정리해주는 도구입니다</p> <ul><li><p><a href="https://prettier.io/docs/en/rationale.html#multi-line-objects" target="_blank" rel="noopener noreferrer">Rationale · Prettier<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>당연히 단순히 코드 정리 도구이므로 eslint에서 쓰여지는 안 쓰이고 있는 변수 라던지, syntax error 등 같이 써야 효과적으로 cleanCode를 유지할 수 있습니다.</p></li></ul> <h3 id="editor에-prettier-적용하기"><a href="#editor에-prettier-적용하기" aria-hidden="true" class="header-anchor">#</a> Editor에 Prettier 적용하기</h3> <p>Prettier는 WebStorm이나 vsCode등 많은 에디터에서는 plugin으로  설치해서 사용하실 수 도 있습니다.</p> <h3 id="_1-webstorm-에서-적용하기"><a href="#_1-webstorm-에서-적용하기" aria-hidden="true" class="header-anchor">#</a> 1) WebStorm 에서 적용하기</h3> <p><code>cmd+,</code> : preference → plugins 에서 prettier 검색 설치</p> <p><img src="/learning-note/assets/img/webstorm-pr1.f2a1ffe7.png" alt="webstorm-prettier-install">
설치 후에</p> <p>Language &amp; Frameworks &gt; JS &gt; Prettier 로 들어가셔서 Package.json에 설치된 경로로 Prettier 잡아줍니다.</p> <p><img src="/learning-note/assets/img/webstorm-pr2.b664da85.png" alt="webstorm-prettier-install"></p> <p>그리고 FindAction을 통해서 Reformat with Prettier로 내가 작업하고 있는 파일은 내 설정으로 포맷팅 시켜줄 수 있습니다. 원하는 단축키로 지정해놓으시면 편하게 사용하실 수 있을 겁니다 😃</p> <p><a href="https://www.jetbrains.com/help/webstorm/prettier.html" target="_blank" rel="noopener noreferrer">Prettier<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="_2-vscode-에서-적용하기"><a href="#_2-vscode-에서-적용하기" aria-hidden="true" class="header-anchor">#</a> 2. VSCode 에서 적용하기</h3> <p>vsCode에서는 extensions를 통해 prettier를 설치해줍시다
마찬가지로 <code>cmd+,</code>를 통해서 세팅스로 가서 Prettier를 검색해서 옵션들을 선택해주시거나
<code>cmd+p</code>로 settings.json을 열어서 각각의 extension 옵션들을 작성해주실 수 있습니다.</p> <p>긴 여정이 끝이 나고 있네요 자 이제 eslint-prettier 에 lint-staged husky를 함께 적용해보도록 하겠습니다 😃</p> <h3 id="_2-3lint-staged-husky-소개-및-적용"><a href="#_2-3lint-staged-husky-소개-및-적용" aria-hidden="true" class="header-anchor">#</a> 2.3Lint-staged &amp; husky 소개 및 적용</h3> <h4 id="lint-staged"><a href="#lint-staged" aria-hidden="true" class="header-anchor">#</a> Lint-Staged</h4> <p><a href="https://github.com/okonet/lint-staged" target="_blank" rel="noopener noreferrer">okonet/lint-staged<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>공식 repo에 가보면 한 줄소개로 어떤 역할을 하는 라이브러리로 볼 수 있습니다.</p> <p>Run linters against staged git files and don't let 💩 slip into your code base!</p> <p>lint를 staged에 있는 파일을 체크함으로서, lint:fix를 통과하지 않는 파일은 커밋 하지 않게 도와줍니다.</p> <p>설치</p> <p><code>npm install --save-dev lint-staged@next</code></p> <h3 id="husky"><a href="#husky" aria-hidden="true" class="header-anchor">#</a> Husky</h3> <p>githooks 를 npm 을 통해서 관리할 수 있게 도와주는 라이브러리 입니다.</p> <p>대응되는 npm script를  pacakge.json에서 매칭시켜서 아래 예시와 같이 쉽게 적용할 수 있게 도와줍니다.</p> <p><a href="https://github.com/typicode/husky" target="_blank" rel="noopener noreferrer">typicode/husky<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="lint-staged-husky-적용"><a href="#lint-staged-husky-적용" aria-hidden="true" class="header-anchor">#</a> Lint-Staged &amp; Husky 적용</h3> <p>husky는  gut hooks를 통해서 commit이나 push 전에 행동을 도와준다.</p> <div class="language-js extra-class"><pre class="language-js"><code>npm install husky <span class="token operator">--</span>save<span class="token operator">-</span>dev
    <span class="token comment">// package.json</span>
    <span class="token string">&quot;husky&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> 
    	<span class="token string">&quot;hooks&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> 
        <span class="token string">&quot;pre-commit&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;npm test&quot;</span><span class="token punctuation">,</span> 
        <span class="token string">&quot;pre-push&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;npm test&quot;</span><span class="token punctuation">,</span> 
        <span class="token string">&quot;...&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;...&quot;</span> 
        <span class="token punctuation">}</span> 
      <span class="token punctuation">}</span>
</code></pre></div><p>그러면 이 두가지를 앞서 설정한 부분과 함께 적용해보겠습니다. 각 npm 모듈들을 설치 후
<code>npm install --save-dev lint-staged@next husky</code></p> <p>packae.json에  husky 설정과 lint-staged 설정을 다음과 같이 추가해줍니다.</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token string">&quot;husky&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;hooks&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;pre-commit&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;lint-staged&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;lint-staged&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;*.{js,vue}&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;eslint --fix&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;prettier --write&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;git add&quot;</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>commit 을 했을 때</p> <p><code>[eslint—fix, prettier—write]</code>를  문제 없이 통과해야  commit을 할 수 있게 됩니다.</p> <p><img src="/learning-note/assets/img/lint-husky-pr.f527420f.png" alt="lint-husky-pr">
(앗 lint error 고쳐야 commit 가능하네 고쳐야 겠다.jpg)</p> <h4 id="다시-정리하면"><a href="#다시-정리하면" aria-hidden="true" class="header-anchor">#</a> 다시 정리하면</h4> <ul><li>staging에 있는 파일을 npm 으로 다루기 위해서 → lint-staged</li> <li>git hooks를 npm으로 다루기 위해서 → husky 를 이용한다.
이 두가지를 조합해서 commit 하기 전에 파일들을  lint 룰이 적용된 파일만 커밋할 수 있게 도와줍니다.</li></ul> <h3 id="후기-및-참고문서"><a href="#후기-및-참고문서" aria-hidden="true" class="header-anchor">#</a> 후기 및 참고문서</h3> <ol><li>빠르면 빠를수록 좋겠다. 개발 환경 세팅 !!! <br>
lint관련 도구들을 공부하고 적용해보면서,
처음 setting 해 놓는 비용으로 계속 유지하기 편한 개발경험을 가져갈 수 있으므로
빨리 세팅하면 할 수록 좋을 것 같다는 점</li> <li>코드리뷰나 동료들과 함께 같은 코드스타일 유지 하는 비용 확실히 줄여 줄 것 같습니다 <br>
사실 지금의 vue-cli 기본 옵션 처럼 eslint 에서 error를 바로 내게 해놓으면
바로 바로 강제할 수는 있는데 (그래서 아직 크게 좋아진 거는 못 느꼈지만...) 이렇게 매번 에러를 내는 것 보다
조금 더 유하면서 허들을 주는 이번에 적용한 도구들을 같이 적용해 놓으면 확실히 더 좋은 개발 경험을 가져갈 수 있을 것 같습니다다.<br>
*코드리뷰때 강점이 많아 보입니다. <br>
린트 도구 적용 없이 코드 리뷰들을 했었는데 30, 많게는 50%라가 lint 관련 된 얘기가 나올 때가 있었는데 아쉬운 부분이 많았었습니다.</li></ol> <p><a href="https://alligator.io/vuejs/vue-eslint-prettier/" target="_blank" rel="noopener noreferrer">Formatting Vue.js Code with ESLint &amp; Prettier<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://thomlom.dev/setup-eslint-prettier-react/" target="_blank" rel="noopener noreferrer">How to setup ESLint and Prettier for your React apps<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/learning-note/docker.html" class="prev">
          Docker Getting Started 01
        </a></span> <span class="next"><a href="/learning-note/Resume.html">
          다시 쓰는 이력서 01
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/learning-note/assets/js/app.80c35667.js" defer></script><script src="/learning-note/assets/js/2.90274bcd.js" defer></script><script src="/learning-note/assets/js/3.bed7b99c.js" defer></script>
  </body>
</html>
